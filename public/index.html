<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>古树名木互动地图（Mapbox 卫星 - 修正版）</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css"/>
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css"/>
  <style>
    html, body, #map { height: 100%; margin: 0; padding: 0; background:#f3f4f6; }
    .topbar { position: absolute; top: 12px; left: 12px; z-index: 1000; background: rgba(255,255,255,.95); padding: 10px 12px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,.15); }
    .topbar input { width: 260px; padding: 6px 8px; border: 1px solid #ddd; border-radius: 6px; }
    .chip { display: inline-block; background: #f3f4f6; border: 1px solid #e5e7eb; border-radius: 999px; padding: 2px 8px; margin-left: 8px; font-size: 12px; }
    .warn { position: absolute; right: 12px; top: 12px; background: #fff7ed; color:#9a3412; border:1px solid #fdba74; padding:8px 10px; border-radius:8px; z-index:1000; display:none; }
  </style>
</head>
<body>
  <div class="topbar">
    <strong>古树名木互动地图</strong>
    <span class="chip">底图：Mapbox 卫星（修复空白）</span><br/>
    <input id="filter" placeholder="按树种中文名搜索（回车确认）"/>
  </div>
  <div class="warn" id="warn">瓦片加载失败（可能是 Token 受限 / 跨域 / 网络问题）。请按右键 → 检查 → Network 查看 401/403/404。</div>
  <div id="map"></div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
  <script>
    const data = {"type": "FeatureCollection", "features": [{"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02922667, 48.72148833]}, "properties": {"species": "五针松", "age": "100.0", "height": "21", "girth": "155.744"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.028976, 48.7220335]}, "properties": {"species": "新疆落叶松", "age": "238.8", "height": "28", "girth": "257.48"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0289905, 48.72205583]}, "properties": {"species": "新疆落叶松", "age": "131.5", "height": "28", "girth": "188.4"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.028423, 48.72265783]}, "properties": {"species": "新疆落叶松", "age": "148.7", "height": "16", "girth": "200.96"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02835167, 48.72272533]}, "properties": {"species": "新疆落叶松", "age": "227.8", "height": "18", "girth": "251.2"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0282105, 48.72270183]}, "properties": {"species": "新疆落叶松", "age": "176.5", "height": "25", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02823317, 48.72271583]}, "properties": {"species": "新疆落叶松", "age": "191.2", "height": "17", "girth": "229.22"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02812917, 48.72276783]}, "properties": {"species": "新疆落叶松", "age": "167.0", "height": "15", "girth": "213.52"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.028149, 48.72275583]}, "properties": {"species": "新疆落叶松", "age": "140.0", "height": "15", "girth": "194.68"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02436733, 48.70960233]}, "properties": {"species": "新疆落叶松", "age": "227.8", "height": "14", "girth": "251.2"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02435583, 48.70999567]}, "properties": {"species": "西伯利亚云杉", "age": "96.0", "height": "14", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.023502, 48.710043]}, "properties": {"species": "西伯利亚云杉", "age": "102.0", "height": "18", "girth": "229.22"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02310567, 48.710218]}, "properties": {"species": "新疆落叶松", "age": "201.4", "height": "16", "girth": "235.5"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02302383, 48.71044367]}, "properties": {"species": "新疆落叶松", "age": "176.5", "height": "17", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02879533, 48.72001967]}, "properties": {"species": "五针松", "age": "120.0", "height": "17", "girth": "178.98"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0289295, 48.72034383]}, "properties": {"species": "新疆落叶松", "age": "261.6", "height": "20", "girth": "270.04"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02866483, 48.72109933]}, "properties": {"species": "新疆落叶松", "age": "153.2", "height": "20", "girth": "204.1"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02780983, 48.7229285]}, "properties": {"species": "新疆落叶松", "age": "167.0", "height": "18", "girth": "213.52"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02774617, 48.72295867]}, "properties": {"species": "新疆落叶松", "age": "345.0", "height": "16", "girth": "408.2"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02790417, 48.722957]}, "properties": {"species": "新疆落叶松", "age": "227.8", "height": "19", "girth": "251.2"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02780867, 48.72287967]}, "properties": {"species": "新疆落叶松", "age": "285.3", "height": "16", "girth": "282.6"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02746783, 48.72352867]}, "properties": {"species": "新疆落叶松", "age": "380.0", "height": "26", "girth": "486.7"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02744383, 48.72347883]}, "properties": {"species": "新疆落叶松", "age": "201.4", "height": "18", "girth": "235.5"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02745317, 48.72335917]}, "properties": {"species": "西伯利亚云杉", "age": "112.1", "height": "22", "girth": "244.92"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.027401, 48.72338183]}, "properties": {"species": "新疆落叶松", "age": "320.0", "height": "23", "girth": "329.7"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02743783, 48.723166]}, "properties": {"species": "新疆落叶松", "age": "330.0", "height": "15", "girth": "361.1"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0274585, 48.72313917]}, "properties": {"species": "新疆落叶松", "age": "320.0", "height": "17", "girth": "329.7"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0285155, 48.72340517]}, "properties": {"species": "新疆落叶松", "age": "330.0", "height": "20", "girth": "361.1"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02878617, 48.72338333]}, "properties": {"species": "新疆落叶松", "age": "335.0", "height": "18", "girth": "376.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02869467, 48.7234475]}, "properties": {"species": "新疆落叶松", "age": "316.4", "height": "20", "girth": "298.3"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02828233, 48.723364]}, "properties": {"species": "新疆落叶松", "age": "227.8", "height": "12", "girth": "251.2"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02817717, 48.723223]}, "properties": {"species": "新疆落叶松", "age": "316.4", "height": "15", "girth": "298.3"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02790483, 48.7232775]}, "properties": {"species": "新疆落叶松", "age": "325.0", "height": "19", "girth": "345.4"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0219385, 48.70948417]}, "properties": {"species": "五针松", "age": "145.0", "height": "18", "girth": "197.82"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.022061, 48.70889483]}, "properties": {"species": "新疆落叶松", "age": "176.5", "height": "20", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02263, 48.70788417]}, "properties": {"species": "新疆落叶松", "age": "201.4", "height": "18", "girth": "235.5"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.022635, 48.70781733]}, "properties": {"species": "新疆落叶松", "age": "244.4", "height": "18", "girth": "260.62"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02697917, 48.71017533]}, "properties": {"species": "西伯利亚云杉", "age": "137.6", "height": "18", "girth": "282.6"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02653483, 48.71039933]}, "properties": {"species": "西伯利亚云杉", "age": "116.3", "height": "20", "girth": "251.2"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02632083, 48.710294]}, "properties": {"species": "新疆落叶松", "age": "244.4", "height": "18", "girth": "260.62"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0260035, 48.71022683]}, "properties": {"species": "西伯利亚云杉", "age": "102.0", "height": "16", "girth": "229.22"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02579967, 48.71030917]}, "properties": {"species": "西伯利亚云杉", "age": "106.0", "height": "20", "girth": "235.5"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0259085, 48.710238]}, "properties": {"species": "新疆落叶松", "age": "255.8", "height": "20", "girth": "266.9"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02630283, 48.710512]}, "properties": {"species": "新疆落叶松", "age": "162.3", "height": "19", "girth": "210.38"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02626717, 48.71375533]}, "properties": {"species": "新疆落叶松", "age": "217.1", "height": "20", "girth": "244.92"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0257245, 48.712813]}, "properties": {"species": "新疆落叶松", "age": "238.8", "height": "24", "girth": "257.48"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02587817, 48.71284683]}, "properties": {"species": "新疆落叶松", "age": "153.2", "height": "23", "girth": "204.1"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.025952, 48.7128935]}, "properties": {"species": "新疆落叶松", "age": "131.5", "height": "22", "girth": "188.4"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.03439217, 48.71216333]}, "properties": {"species": "新疆落叶松", "age": "285.3", "height": "8", "girth": "282.6"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.03440317, 48.7120895]}, "properties": {"species": "新疆落叶松", "age": "153.2", "height": "13", "girth": "204.1"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.035016, 48.712291]}, "properties": {"species": "新疆落叶松", "age": "176.5", "height": "14", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02351733, 48.70664167]}, "properties": {"species": "西伯利亚云杉", "age": "96.0", "height": "12", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0270865, 48.704493]}, "properties": {"species": "新疆落叶松", "age": "153.2", "height": "20", "girth": "204.1"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02769367, 48.70443133]}, "properties": {"species": "西伯利亚云杉", "age": "116.3", "height": "27", "girth": "251.2"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02788033, 48.70448267]}, "properties": {"species": "西伯利亚云杉", "age": "96.0", "height": "20", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02781433, 48.70442717]}, "properties": {"species": "新疆落叶松", "age": "111.3", "height": "19", "girth": "172.7"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0271885, 48.704056]}, "properties": {"species": "新疆落叶松", "age": "201.4", "height": "23", "girth": "235.5"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02684567, 48.70406983]}, "properties": {"species": "新疆落叶松", "age": "111.3", "height": "19", "girth": "172.7"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02688967, 48.702575]}, "properties": {"species": "新疆落叶松", "age": "123.2", "height": "19", "girth": "182.12"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02801217, 48.7014085]}, "properties": {"species": "西伯利亚云杉", "age": "96.0", "height": "24", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02816533, 48.70108383]}, "properties": {"species": "新疆落叶松", "age": "105.6", "height": "21", "girth": "167.99"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0280265, 48.70105117]}, "properties": {"species": "西伯利亚云杉", "age": "96.0", "height": "22", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.028827, 48.70010583]}, "properties": {"species": "新疆落叶松", "age": "201.4", "height": "22", "girth": "235.5"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02891817, 48.6994325]}, "properties": {"species": "新疆落叶松", "age": "123.2", "height": "20", "girth": "182.12"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02920617, 48.698146]}, "properties": {"species": "新疆落叶松", "age": "181.4", "height": "23", "girth": "222.94"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02918833, 48.69803383]}, "properties": {"species": "新疆落叶松", "age": "107.5", "height": "17", "girth": "169.56"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02923133, 48.69787083]}, "properties": {"species": "新疆落叶松", "age": "255.8", "height": "21", "girth": "266.9"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02899883, 48.6977735]}, "properties": {"species": "新疆落叶松", "age": "176.5", "height": "21", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0289775, 48.6977115]}, "properties": {"species": "新疆落叶松", "age": "157.7", "height": "19", "girth": "207.24"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02954217, 48.6970465]}, "properties": {"species": "新疆落叶松", "age": "153.2", "height": "18", "girth": "204.1"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02906083, 48.6961415]}, "properties": {"species": "新疆落叶松", "age": "96.4", "height": "19", "girth": "160.14"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.028995, 48.696135]}, "properties": {"species": "新疆落叶松", "age": "111.3", "height": "17", "girth": "172.7"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02849183, 48.69468483]}, "properties": {"species": "新疆落叶松", "age": "131.5", "height": "19", "girth": "188.4"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0282445, 48.69442117]}, "properties": {"species": "新疆落叶松", "age": "153.2", "height": "16", "girth": "204.1"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02867583, 48.69452167]}, "properties": {"species": "新疆落叶松", "age": "211.8", "height": "20", "girth": "241.78"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [86.99159967, 48.72190067]}, "properties": {"species": "新疆落叶松", "age": "106.7", "height": "16", "girth": "168.932"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [86.991621, 48.72306617]}, "properties": {"species": "新疆落叶松", "age": "140.0", "height": "16", "girth": "194.68"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [86.991505, 48.7230095]}, "properties": {"species": "新疆落叶松", "age": "115.2", "height": "15", "girth": "175.84"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [86.99154433, 48.72317583]}, "properties": {"species": "新疆落叶松", "age": "131.5", "height": "16", "girth": "188.4"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [86.99147717, 48.72328667]}, "properties": {"species": "新疆落叶松", "age": "111.3", "height": "15", "girth": "172.7"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [86.99144, 48.72337533]}, "properties": {"species": "新疆落叶松", "age": "111.3", "height": "15", "girth": "172.7"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [86.99150533, 48.723604]}, "properties": {"species": "新疆落叶松", "age": "103.7", "height": "15", "girth": "166.42"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [86.99162833, 48.72365717]}, "properties": {"species": "新疆落叶松", "age": "140.0", "height": "16", "girth": "194.68"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [86.99014383, 48.72519217]}, "properties": {"species": "西伯利亚云杉", "age": "104.0", "height": "13", "girth": "232.36"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [86.99031433, 48.72474833]}, "properties": {"species": "西伯利亚云杉", "age": "126.8", "height": "16", "girth": "266.9"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [86.99030417, 48.7242385]}, "properties": {"species": "西伯利亚云杉", "age": "106.0", "height": "13", "girth": "235.5"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [86.99003367, 48.724053]}, "properties": {"species": "西伯利亚云杉", "age": "96.0", "height": "16", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [86.98981433, 48.72403267]}, "properties": {"species": "西伯利亚云杉", "age": "106.0", "height": "16", "girth": "235.5"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.05787667, 48.60779817]}, "properties": {"species": "新疆落叶松", "age": "131.5", "height": "16", "girth": "188.4"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.05802117, 48.60784233]}, "properties": {"species": "新疆落叶松", "age": "111.3", "height": "16", "girth": "172.7"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0576195, 48.60810917]}, "properties": {"species": "新疆落叶松", "age": "140.0", "height": "15", "girth": "194.68"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.05775433, 48.608141]}, "properties": {"species": "新疆落叶松", "age": "140.0", "height": "15", "girth": "194.68"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.05837, 48.60817617]}, "properties": {"species": "新疆落叶松", "age": "119.2", "height": "16", "girth": "178.98"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.05773067, 48.60862183]}, "properties": {"species": "新疆落叶松", "age": "103.7", "height": "12", "girth": "166.42"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0576625, 48.60866983]}, "properties": {"species": "新疆落叶松", "age": "123.2", "height": "13", "girth": "182.12"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.05764317, 48.60869883]}, "properties": {"species": "新疆落叶松", "age": "111.3", "height": "13", "girth": "172.7"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.05754367, 48.6087825]}, "properties": {"species": "新疆落叶松", "age": "119.2", "height": "10", "girth": "178.98"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.057503, 48.608784]}, "properties": {"species": "新疆落叶松", "age": "131.5", "height": "13", "girth": "188.4"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.057379, 48.6088695]}, "properties": {"species": "新疆落叶松", "age": "119.2", "height": "15", "girth": "178.98"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.05718333, 48.6089385]}, "properties": {"species": "西伯利亚云杉", "age": "102.0", "height": "16", "girth": "229.22"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.05708317, 48.6090325]}, "properties": {"species": "新疆落叶松", "age": "100.0", "height": "13", "girth": "163.28"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0568785, 48.6091885]}, "properties": {"species": "新疆落叶松", "age": "217.1", "height": "16", "girth": "244.92"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02743033, 48.7235545]}, "properties": {"species": "西伯利亚云杉", "age": "108.0", "height": "16", "girth": "238.64"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02744, 48.72365333]}, "properties": {"species": "新疆落叶松", "age": "131.5", "height": "11", "girth": "188.4"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02743383, 48.7236575]}, "properties": {"species": "新疆落叶松", "age": "167.0", "height": "13", "girth": "213.52"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0274205, 48.7237385]}, "properties": {"species": "新疆落叶松", "age": "111.3", "height": "14", "girth": "172.7"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.027479, 48.72374883]}, "properties": {"species": "新疆落叶松", "age": "111.3", "height": "13", "girth": "172.7"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02755167, 48.72373517]}, "properties": {"species": "新疆落叶松", "age": "186.3", "height": "15", "girth": "226.08"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02767267, 48.723828]}, "properties": {"species": "新疆落叶松", "age": "217.1", "height": "12", "girth": "244.92"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0276195, 48.72384883]}, "properties": {"species": "新疆落叶松", "age": "211.8", "height": "14", "girth": "241.78"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02763267, 48.7238655]}, "properties": {"species": "新疆落叶松", "age": "217.1", "height": "13", "girth": "244.92"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02763067, 48.72394733]}, "properties": {"species": "新疆落叶松", "age": "167.0", "height": "18", "girth": "213.52"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02761683, 48.72393917]}, "properties": {"species": "新疆落叶松", "age": "157.7", "height": "19", "girth": "207.24"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.027539, 48.7239305]}, "properties": {"species": "新疆落叶松", "age": "144.3", "height": "16", "girth": "197.82"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02774667, 48.7244775]}, "properties": {"species": "新疆落叶松", "age": "123.2", "height": "17", "girth": "182.12"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02772733, 48.72453217]}, "properties": {"species": "新疆落叶松", "age": "153.2", "height": "16", "girth": "204.1"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02768617, 48.72454517]}, "properties": {"species": "新疆落叶松", "age": "144.3", "height": "15", "girth": "197.82"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02762917, 48.724579]}, "properties": {"species": "新疆落叶松", "age": "127.3", "height": "15", "girth": "185.26"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.027679, 48.72466767]}, "properties": {"species": "新疆落叶松", "age": "186.3", "height": "16", "girth": "226.08"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02769183, 48.72466483]}, "properties": {"species": "新疆落叶松", "age": "144.3", "height": "16", "girth": "197.82"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0275945, 48.72483567]}, "properties": {"species": "新疆落叶松", "age": "317.0", "height": "20", "girth": "303.01"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02730517, 48.72494]}, "properties": {"species": "新疆落叶松", "age": "157.7", "height": "18", "girth": "207.24"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02589117, 48.72724633]}, "properties": {"species": "五针松", "age": "100.0", "height": "14", "girth": "160.14"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02521483, 48.72860817]}, "properties": {"species": "新疆落叶松", "age": "135.7", "height": "18", "girth": "191.54"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02500667, 48.7287095]}, "properties": {"species": "新疆落叶松", "age": "157.7", "height": "15", "girth": "207.24"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02468817, 48.72901483]}, "properties": {"species": "新疆落叶松", "age": "153.2", "height": "16", "girth": "204.1"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02452367, 48.72928717]}, "properties": {"species": "新疆落叶松", "age": "222.4", "height": "17", "girth": "248.06"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0223525, 48.73238733]}, "properties": {"species": "新疆落叶松", "age": "238.8", "height": "14", "girth": "257.48"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02017883, 48.735014]}, "properties": {"species": "新疆落叶松", "age": "144.3", "height": "16", "girth": "197.82"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.01930967, 48.73625833]}, "properties": {"species": "新疆落叶松", "age": "217.1", "height": "21", "girth": "244.92"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.01918883, 48.73634783]}, "properties": {"species": "西伯利亚云杉", "age": "144.2", "height": "20", "girth": "292.02"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0188795, 48.73758667]}, "properties": {"species": "新疆落叶松", "age": "176.5", "height": "16", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.01847317, 48.7381055]}, "properties": {"species": "新疆落叶松", "age": "186.3", "height": "16", "girth": "226.08"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.01755967, 48.7389495]}, "properties": {"species": "新疆落叶松", "age": "201.4", "height": "17", "girth": "235.5"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0177105, 48.73901783]}, "properties": {"species": "新疆落叶松", "age": "176.5", "height": "15", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02921267, 48.69565833]}, "properties": {"species": "新疆落叶松", "age": "153.2", "height": "18", "girth": "204.1"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0295575, 48.696647]}, "properties": {"species": "新疆落叶松", "age": "222.4", "height": "17", "girth": "248.06"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.049606, 48.62187767]}, "properties": {"species": "新疆落叶松", "age": "153.2", "height": "16", "girth": "204.1"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.049585, 48.6217585]}, "properties": {"species": "新疆落叶松", "age": "191.2", "height": "16", "girth": "229.22"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0495425, 48.62173033]}, "properties": {"species": "新疆落叶松", "age": "135.7", "height": "15", "girth": "191.54"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04944567, 48.62169817]}, "properties": {"species": "新疆落叶松", "age": "310.1", "height": "19", "girth": "295.16"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04938917, 48.62183917]}, "properties": {"species": "新疆落叶松", "age": "201.4", "height": "17", "girth": "235.5"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0493665, 48.62163783]}, "properties": {"species": "新疆落叶松", "age": "244.4", "height": "17", "girth": "260.62"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0494205, 48.62161883]}, "properties": {"species": "新疆落叶松", "age": "103.7", "height": "15", "girth": "166.42"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04949933, 48.62161833]}, "properties": {"species": "新疆落叶松", "age": "100.0", "height": "15", "girth": "163.28"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04948796, 48.62161496]}, "properties": {"species": "新疆落叶松", "age": "140.0", "height": "16", "girth": "194.68"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04965267, 48.62165733]}, "properties": {"species": "新疆落叶松", "age": "100.0", "height": "16", "girth": "163.28"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04961133, 48.62166183]}, "properties": {"species": "新疆落叶松", "age": "103.7", "height": "16", "girth": "166.42"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04970167, 48.62177083]}, "properties": {"species": "新疆落叶松", "age": "144.3", "height": "16", "girth": "197.82"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.048144, 48.62169467]}, "properties": {"species": "新疆落叶松", "age": "140.0", "height": "17", "girth": "194.68"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0481275, 48.62170567]}, "properties": {"species": "新疆落叶松", "age": "131.5", "height": "17", "girth": "188.4"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04715317, 48.62219817]}, "properties": {"species": "新疆落叶松", "age": "227.8", "height": "17", "girth": "251.2"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.045698, 48.62261517]}, "properties": {"species": "新疆落叶松", "age": "144.3", "height": "16", "girth": "197.82"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04566183, 48.62262783]}, "properties": {"species": "新疆落叶松", "age": "297.6", "height": "18", "girth": "288.88"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04563417, 48.622616]}, "properties": {"species": "西伯利亚云杉", "age": "96.0", "height": "17", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04562733, 48.62261367]}, "properties": {"species": "西伯利亚云杉", "age": "106.0", "height": "17", "girth": "235.5"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04550867, 48.62263667]}, "properties": {"species": "新疆落叶松", "age": "176.5", "height": "16", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04540667, 48.62262517]}, "properties": {"species": "西伯利亚云杉", "age": "116.3", "height": "17", "girth": "251.2"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04520617, 48.62264367]}, "properties": {"species": "新疆落叶松", "age": "285.3", "height": "18", "girth": "282.6"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0435605, 48.623003]}, "properties": {"species": "新疆落叶松", "age": "167.0", "height": "16", "girth": "213.52"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04343333, 48.623091]}, "properties": {"species": "新疆落叶松", "age": "131.5", "height": "15", "girth": "188.4"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.043399, 48.62319233]}, "properties": {"species": "新疆落叶松", "age": "111.3", "height": "15", "girth": "172.7"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0427365, 48.62338317]}, "properties": {"species": "新疆落叶松", "age": "176.5", "height": "18", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.040939, 48.62445833]}, "properties": {"species": "西伯利亚云杉", "age": "126.8", "height": "17", "girth": "266.9"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0444395, 48.630498]}, "properties": {"species": "新疆落叶松", "age": "131.5", "height": "15", "girth": "188.4"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0446795, 48.63085167]}, "properties": {"species": "新疆落叶松", "age": "111.3", "height": "15", "girth": "172.7"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04507067, 48.63166933]}, "properties": {"species": "新疆落叶松", "age": "176.5", "height": "18", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0451075, 48.63191517]}, "properties": {"species": "新疆落叶松", "age": "352.0", "height": "21", "girth": "423.9"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04489233, 48.63387083]}, "properties": {"species": "新疆落叶松", "age": "131.5", "height": "15", "girth": "188.4"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.045559, 48.63403667]}, "properties": {"species": "新疆落叶松", "age": "201.4", "height": "16", "girth": "235.5"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.045627, 48.63403733]}, "properties": {"species": "新疆落叶松", "age": "131.5", "height": "14", "girth": "188.4"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04598067, 48.6337805]}, "properties": {"species": "新疆落叶松", "age": "227.8", "height": "18", "girth": "251.2"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.00842167, 48.69815167]}, "properties": {"species": "新疆落叶松", "age": "273.4", "height": "19", "girth": "276.32"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.00842167, 48.6981505]}, "properties": {"species": "新疆落叶松", "age": "131.5", "height": "15", "girth": "188.4"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.008421, 48.69798983]}, "properties": {"species": "新疆落叶松", "age": "318.0", "height": "20", "girth": "314.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.00839667, 48.69771017]}, "properties": {"species": "新疆落叶松", "age": "153.2", "height": "15", "girth": "204.1"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0085575, 48.69762917]}, "properties": {"species": "新疆落叶松", "age": "111.3", "height": "14", "girth": "172.7"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0091115, 48.69753467]}, "properties": {"species": "新疆落叶松", "age": "176.5", "height": "16", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.009146, 48.69752917]}, "properties": {"species": "新疆落叶松", "age": "153.2", "height": "17", "girth": "204.1"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.00926533, 48.6972875]}, "properties": {"species": "新疆落叶松", "age": "303.8", "height": "19", "girth": "292.02"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.00940183, 48.69715267]}, "properties": {"species": "新疆落叶松", "age": "153.2", "height": "16", "girth": "204.1"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0095645, 48.697156]}, "properties": {"species": "新疆落叶松", "age": "167.0", "height": "16", "girth": "213.52"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.00982733, 48.69706467]}, "properties": {"species": "新疆落叶松", "age": "176.5", "height": "17", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0101635, 48.69714033]}, "properties": {"species": "新疆落叶松", "age": "227.8", "height": "17", "girth": "251.2"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.03381317, 48.69276117]}, "properties": {"species": "新疆落叶松", "age": "123.2", "height": "16", "girth": "182.12"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.03426667, 48.693389]}, "properties": {"species": "新疆落叶松", "age": "131.5", "height": "14", "girth": "188.4"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.03427483, 48.69341433]}, "properties": {"species": "新疆落叶松", "age": "153.2", "height": "16", "girth": "204.1"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.03438867, 48.69352267]}, "properties": {"species": "新疆落叶松", "age": "131.5", "height": "15", "girth": "188.4"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.03453933, 48.6936275]}, "properties": {"species": "新疆落叶松", "age": "123.2", "height": "15", "girth": "182.12"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.034781, 48.69371883]}, "properties": {"species": "新疆落叶松", "age": "238.8", "height": "18", "girth": "257.48"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.03479633, 48.6938965]}, "properties": {"species": "新疆落叶松", "age": "157.7", "height": "17", "girth": "207.24"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.03487667, 48.69405017]}, "properties": {"species": "新疆落叶松", "age": "176.5", "height": "17", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.03684817, 48.69882433]}, "properties": {"species": "新疆落叶松", "age": "191.2", "height": "17", "girth": "229.22"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.03667417, 48.70190033]}, "properties": {"species": "新疆落叶松", "age": "176.5", "height": "17", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.036578, 48.70395867]}, "properties": {"species": "新疆落叶松", "age": "153.2", "height": "16", "girth": "204.1"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.03612933, 48.70388333]}, "properties": {"species": "新疆落叶松", "age": "176.5", "height": "17", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.03604617, 48.70391117]}, "properties": {"species": "新疆落叶松", "age": "153.2", "height": "16", "girth": "204.1"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0282805, 48.7067975]}, "properties": {"species": "新疆落叶松", "age": "162.3", "height": "17", "girth": "210.38"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.03197767, 48.70690933]}, "properties": {"species": "新疆落叶松", "age": "140.0", "height": "15", "girth": "194.68"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.035482, 48.70771567]}, "properties": {"species": "新疆落叶松", "age": "176.5", "height": "16", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0349435, 48.711706]}, "properties": {"species": "新疆落叶松", "age": "201.4", "height": "16", "girth": "235.5"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.03144033, 48.71548867]}, "properties": {"species": "新疆落叶松", "age": "217.1", "height": "17", "girth": "244.92"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.035041, 48.698786]}, "properties": {"species": "新疆落叶松", "age": "201.4", "height": "17", "girth": "235.5"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.03506367, 48.69873967]}, "properties": {"species": "新疆落叶松", "age": "191.2", "height": "17", "girth": "229.22"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.03509133, 48.69871633]}, "properties": {"species": "新疆落叶松", "age": "217.1", "height": "17", "girth": "244.92"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.03503933, 48.69842667]}, "properties": {"species": "新疆落叶松", "age": "162.3", "height": "16", "girth": "210.38"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0349965, 48.69838517]}, "properties": {"species": "新疆落叶松", "age": "167.0", "height": "16", "girth": "213.52"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.03479833, 48.69812417]}, "properties": {"species": "新疆落叶松", "age": "201.4", "height": "16", "girth": "235.5"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.034584, 48.697653]}, "properties": {"species": "新疆落叶松", "age": "191.2", "height": "17", "girth": "229.22"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.03446683, 48.697625]}, "properties": {"species": "新疆落叶松", "age": "162.3", "height": "17", "girth": "210.38"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.030915, 48.6921165]}, "properties": {"species": "新疆落叶松", "age": "131.5", "height": "15", "girth": "188.4"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.03097167, 48.69197483]}, "properties": {"species": "新疆落叶松", "age": "144.3", "height": "15", "girth": "197.82"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.046633, 48.6355905]}, "properties": {"species": "新疆落叶松", "age": "140.0", "height": "15", "girth": "194.68"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04676933, 48.63517083]}, "properties": {"species": "新疆落叶松", "age": "191.2", "height": "17", "girth": "229.22"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04684417, 48.63461133]}, "properties": {"species": "新疆落叶松", "age": "131.5", "height": "16", "girth": "188.4"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04690783, 48.634622]}, "properties": {"species": "新疆落叶松", "age": "191.2", "height": "17", "girth": "229.22"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04640733, 48.63437283]}, "properties": {"species": "西伯利亚云杉", "age": "100.0", "height": "16", "girth": "226.08"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04609367, 48.63463333]}, "properties": {"species": "新疆落叶松", "age": "167.0", "height": "16", "girth": "213.52"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04599717, 48.63469967]}, "properties": {"species": "新疆落叶松", "age": "201.4", "height": "16", "girth": "235.5"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0452575, 48.6369315]}, "properties": {"species": "新疆落叶松", "age": "144.3", "height": "18", "girth": "197.82"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04560917, 48.637906]}, "properties": {"species": "新疆落叶松", "age": "176.5", "height": "18", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04569717, 48.63818583]}, "properties": {"species": "新疆落叶松", "age": "131.5", "height": "15", "girth": "188.4"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0456745, 48.63829767]}, "properties": {"species": "新疆落叶松", "age": "255.8", "height": "18", "girth": "266.9"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.045148, 48.64068183]}, "properties": {"species": "新疆落叶松", "age": "167.0", "height": "14", "girth": "213.52"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04349083, 48.64273967]}, "properties": {"species": "新疆落叶松", "age": "153.2", "height": "15", "girth": "204.1"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.043504, 48.64309367]}, "properties": {"species": "新疆落叶松", "age": "140.0", "height": "15", "girth": "194.68"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0435265, 48.6434945]}, "properties": {"species": "新疆落叶松", "age": "186.3", "height": "17", "girth": "226.08"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04355283, 48.64474617]}, "properties": {"species": "新疆落叶松", "age": "153.2", "height": "16", "girth": "204.1"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04341783, 48.645208]}, "properties": {"species": "西伯利亚云杉", "age": "110.1", "height": "16", "girth": "241.78"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04336983, 48.64680883]}, "properties": {"species": "新疆落叶松", "age": "140.0", "height": "15", "girth": "194.68"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04315917, 48.6480855]}, "properties": {"species": "新疆落叶松", "age": "201.4", "height": "17", "girth": "235.5"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.043238, 48.64804]}, "properties": {"species": "新疆落叶松", "age": "285.3", "height": "18", "girth": "282.6"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04335883, 48.6480675]}, "properties": {"species": "新疆落叶松", "age": "201.4", "height": "16", "girth": "235.5"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0440485, 48.64812717]}, "properties": {"species": "新疆落叶松", "age": "217.1", "height": "18", "girth": "244.92"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.044154, 48.648094]}, "properties": {"species": "新疆落叶松", "age": "176.5", "height": "16", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04333567, 48.6487445]}, "properties": {"species": "新疆落叶松", "age": "320.0", "height": "20", "girth": "329.7"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04335483, 48.6491845]}, "properties": {"species": "新疆落叶松", "age": "186.3", "height": "18", "girth": "226.08"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.043413, 48.64938383]}, "properties": {"species": "新疆落叶松", "age": "153.2", "height": "16", "girth": "204.1"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04308067, 48.65018267]}, "properties": {"species": "新疆落叶松", "age": "196.3", "height": "17", "girth": "232.36"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04308, 48.65017933]}, "properties": {"species": "新疆落叶松", "age": "244.4", "height": "18", "girth": "260.62"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04260533, 48.6509795]}, "properties": {"species": "新疆落叶松", "age": "176.5", "height": "16", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.04227267, 48.65111983]}, "properties": {"species": "新疆落叶松", "age": "201.4", "height": "17", "girth": "235.5"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.03871833, 48.65710783]}, "properties": {"species": "新疆落叶松", "age": "162.3", "height": "16", "girth": "210.38"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.03857817, 48.65723967]}, "properties": {"species": "新疆落叶松", "age": "196.3", "height": "17", "girth": "232.36"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02333533, 48.69738433]}, "properties": {"species": "新疆落叶松", "age": "162.3", "height": "16", "girth": "210.38"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02324083, 48.6981695]}, "properties": {"species": "新疆落叶松", "age": "206.5", "height": "17", "girth": "238.64"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.023096, 48.69837117]}, "properties": {"species": "新疆落叶松", "age": "140.0", "height": "16", "girth": "194.68"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02337917, 48.69939883]}, "properties": {"species": "新疆落叶松", "age": "167.0", "height": "16", "girth": "213.52"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02306833, 48.700006]}, "properties": {"species": "新疆落叶松", "age": "131.5", "height": "15", "girth": "188.4"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02269467, 48.70037383]}, "properties": {"species": "新疆落叶松", "age": "167.0", "height": "16", "girth": "213.52"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.021929, 48.70114017]}, "properties": {"species": "新疆落叶松", "age": "316.4", "height": "18", "girth": "298.3"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0218, 48.70110667]}, "properties": {"species": "新疆落叶松", "age": "157.7", "height": "16", "girth": "207.24"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02208683, 48.7021065]}, "properties": {"species": "新疆落叶松", "age": "153.2", "height": "15", "girth": "204.1"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0219915, 48.70229033]}, "properties": {"species": "新疆落叶松", "age": "167.0", "height": "16", "girth": "213.52"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0222005, 48.703892]}, "properties": {"species": "新疆落叶松", "age": "176.5", "height": "16", "girth": "219.8"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.02173717, 48.70421417]}, "properties": {"species": "新疆落叶松", "age": "191.2", "height": "18", "girth": "229.22"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0212825, 48.70475467]}, "properties": {"species": "新疆落叶松", "age": "140.0", "height": "15", "girth": "194.68"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.0194165, 48.70790483]}, "properties": {"species": "新疆落叶松", "age": "148.7", "height": "15", "girth": "200.96"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.01957367, 48.70788767]}, "properties": {"species": "新疆落叶松", "age": "167.0", "height": "16", "girth": "213.52"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.01896983, 48.70778]}, "properties": {"species": "新疆落叶松", "age": "191.2", "height": "17", "girth": "229.22"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [87.01920233, 48.70842833]}, "properties": {"species": "新疆落叶松", "age": "297.6", "height": "19", "girth": "288.88"}}]};

    const map = L.map('map', {
      center: [48.686146, 87.031124],
      zoom: 12,
      preferCanvas: true,
      detectRetina: true
    });

    // ✅ 使用 256px tiles（@2x 自适应 HiDPI），最兼容 Leaflet
    const url = 'https://api.mapbox.com/styles/v1/mapbox/satellite-v9/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoiY2FweiIsImEiOiJjbWV5MmNxYnoxNXE1MmpweDBlbHk5OHFqIn0.83RsacxI9r5GMt0zYL7WmQ';

    const mapboxSat = L.tileLayer(url, {
      tileSize: 256,
      maxZoom: 20,
      crossOrigin: true,
      updateWhenIdle: true,
      keepBuffer: 4,
      attribution: '© Mapbox © OpenStreetMap'
    }).addTo(map);

    mapboxSat.on('tileerror', function(e) {
      console.warn('Tile load error:', e.coords, e);
      document.getElementById('warn').style.display = 'block';
    });

    const osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '&copy; OpenStreetMap contributors'
    });

    L.control.layers({ 'Mapbox 卫星': mapboxSat, 'OSM 道路': osm }).addTo(map);

    let cluster = L.markerClusterGroup({
      spiderfyOnMaxZoom: false,
      disableClusteringAtZoom: 16,
      chunkedLoading: true
    });
    map.addLayer(cluster);

    function renderMarkers(filterText) {
      cluster.clearLayers();
      const ft = (filterText || '').trim().toLowerCase();
      const layers = [];
      data.features.forEach(f => {
        const [lng, lat] = f.geometry.coordinates;
        const p = f.properties || {};
        const title = p.species || '古树';

        if (ft) {
          const hay = (p.species || '').toLowerCase();
          if (!hay.includes(ft)) return;
        }

        const marker = L.marker([lat, lng], { title });
        const html = `
          <b>${title}</b><br/>
          树龄：${p.age ?? '未知'}<br/>
          树高：${p.height ?? '未知'} 米<br/>
          胸围：${p.girth ?? '未知'} 厘米<br/>
          坐标：${lat.toFixed(6)}, ${lng.toFixed(6)}
        `;
        marker.bindPopup(html);
        layers.push(marker);
      });
      cluster.addLayers(layers);
    }

    renderMarkers('');
    document.getElementById('filter').addEventListener('keydown', (e) => {
      if (e.key === 'Enter') renderMarkers(e.target.value);
    });
  </script>
</body>
</html>
